# Path to oh-my-zsh installation
export ZSH="$HOME/.oh-my-zsh"

# Theme
ZSH_THEME=""

# Case sensitivity and correction settings
CASE_SENSITIVE="true"
HYPHEN_INSENSITIVE="true"
ENABLE_CORRECTION="true"

# History settings
HISTSIZE=10000
SAVEHIST=10000
setopt HIST_IGNORE_ALL_DUPS
setopt HIST_FIND_NO_DUPS
setopt HIST_REDUCE_BLANKS
setopt SHARE_HISTORY

# Plugins
plugins=(git zsh-syntax-highlighting zsh-autosuggestions)

# Source oh-my-zsh
source $ZSH/oh-my-zsh.sh

# Default Editor
export EDITOR='nvim'

# Path settings
export PATH=$HOME/bin:/usr/local/bin:$HOME/.local/bin:$PATH

# NVM (Node Version Manager)
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # Load nvm
[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # Load nvm bash_completion

# Bun (JavaScript runtime)
export BUN_INSTALL="$HOME/.bun"
export PATH="$BUN_INSTALL/bin:$PATH"
[ -s "$HOME/.bun/_bun" ] && source "$HOME/.bun/_bun"

# Aliases
alias l="ls -G"  # List files in current directory
alias ll="ls -al"  # List all files in long format
alias la='ls -A'  # List all files except for . and ..
alias lsd='ls -d */'  # List directories only
alias o="open ."  # Open current directory in Finder
alias zshconfig="$EDITOR ~/.zshrc"  # Open .zshrc in editor

# Navigation aliases
alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'

# Git aliases
alias gaa='git add .'
alias gcm='git commit -m'
alias gpsh='git push'
alias gpl='git pull'
alias gss='git status -s'
alias gs='echo ""; echo "*********************************************"; echo -e "DO NOT FORGET TO PULL BEFORE COMMITTING"; echo "*********************************************"; echo ""; git status'
alias gb='git branch'
alias gco='git checkout'
alias gl='git log --oneline --graph --decorate'

# Initialize Starship prompt
eval "$(starship init zsh)"

# Custom Neovim installation for work system (due to permission issues)
# export XDG_CONFIG_HOME="$HOME/Documents"
# export XDG_DATA_HOME="$HOME/Documents/.local/share"
# export XDG_CACHE_HOME="$HOME/Documents/.cache"

# Check the operating system
if [[ "$(uname)" == "Darwin" ]]; then
    # This is macOS
    if [[ "$HOST" == "your-work-hostname" ]]; then
        # Set custom Neovim paths for work macOS
        export XDG_CONFIG_HOME="$HOME/Documents"
        export XDG_DATA_HOME="$HOME/Documents/.local/share"
        export XDG_CACHE_HOME="$HOME/Documents/.cache"
    fi
fi

# Default Neovim paths for personal macOS and WSL
export XDG_CONFIG_HOME="${XDG_CONFIG_HOME:-$HOME/.config}"
export XDG_DATA_HOME="${XDG_DATA_HOME:-$HOME/.local/share}"
export XDG_CACHE_HOME="${XDG_CACHE_HOME:-$HOME/.cache}"


# Performance optimization for completion
zstyle ':completion:*' accept-exact '*(N)'
zstyle ':completion:*' use-cache on
zstyle ':completion:*' cache-path ~/.zsh/cache

# Add Neovim binary path
export PATH="$PATH:/opt/nvim-linux64/bin"

# Conditional block for Linux-specific settings
if [[ "$(uname)" == "Linux" ]]; then
    # Load Homebrew environment for Linux
    eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"
fi

# End of .zshrc

